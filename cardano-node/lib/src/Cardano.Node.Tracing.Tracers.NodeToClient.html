<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE QuantifiedConstraints #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans  #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Node.Tracing.Tracers.NodeToClient</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTChainSync"><span class="hs-identifier">severityTChainSync</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTChainSync"><span class="hs-identifier">namesForTChainSync</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTChainSync"><span class="hs-identifier">docTChainSync</span></a></span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTTxSubmission"><span class="hs-identifier">severityTTxSubmission</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTTxSubmission"><span class="hs-identifier">namesForTTxSubmission</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTTxSubmission"><span class="hs-identifier">docTTxSubmission</span></a></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTStateQuery"><span class="hs-identifier">severityTStateQuery</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTStateQuery"><span class="hs-identifier">namesForTStateQuery</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTStateQuery"><span class="hs-identifier">docTStateQuery</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Cardano.Logging</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Cardano.Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Show</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">show</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Value</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">String</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.=)</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier">pack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Network.TypedProtocol.Codec</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AnyMessageAndAgency</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Text.Show</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Ouroboros.Consensus.Ledger.Query</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Query</span></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Ouroboros.Consensus.Ledger.SupportsMempool</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ApplyTxErr</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">GenTx</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Ouroboros.Network.Block</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Point</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Serialised</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Tip</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Ouroboros.Network.BlockFetch.ClientState</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BlockFetch</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Ouroboros.Network.Driver.Simple</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">TraceSendRecv</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Ouroboros.Network.Protocol.ChainSync.Type</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ChainSync</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Ouroboros.Network.Protocol.LocalStateQuery.Type</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LSQ</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Ouroboros.Network.Protocol.LocalTxSubmission.Type</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LTS</span></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span id="local-6989586621679584300"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LogFormatting</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span class="annot"><a href="#local-6989586621679584300"><span class="hs-identifier hs-type">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LogFormatting</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span> </span><span class="annot"><a href="#local-6989586621679584300"><span class="hs-identifier hs-type">ps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>  </span><span id="local-6989586621679584295"><span class="annot"><span class="annottext">forMachine :: DetailLevel -&gt; TraceSendRecv ps -&gt; Object
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">forMachine</span></span></span><span> </span><span id="local-6989586621679584293"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584293"><span class="hs-identifier hs-var">dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584291"><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584291"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Send&quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;msg&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Object -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">DetailLevel -&gt; AnyMessageAndAgency ps -&gt; Object
forall a. LogFormatting a =&gt; DetailLevel -&gt; a -&gt; Object
</span><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584293"><span class="hs-identifier hs-var">dtal</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584291"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584289"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584289"><span class="hs-identifier hs-var">dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584287"><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584287"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Recv&quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;msg&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Object -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">DetailLevel -&gt; AnyMessageAndAgency ps -&gt; Object
forall a. LogFormatting a =&gt; DetailLevel -&gt; a -&gt; Object
</span><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584289"><span class="hs-identifier hs-var">dtal</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584287"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span>  </span><span id="local-6989586621679584286"><span class="annot"><span class="annottext">forHuman :: TraceSendRecv ps -&gt; Text
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">forHuman</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584284"><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584284"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Send: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps -&gt; Text
forall a. LogFormatting a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">forHuman</span></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584284"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forHuman</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584283"><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584283"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Receive: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps -&gt; Text
forall a. LogFormatting a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">forHuman</span></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584283"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span>  </span><span id="local-6989586621679584282"><span class="annot"><span class="annottext">asMetrics :: TraceSendRecv ps -&gt; [Metric]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asMetrics</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584280"><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584280"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps -&gt; [Metric]
forall a. LogFormatting a =&gt; a -&gt; [Metric]
</span><span class="hs-identifier hs-var">asMetrics</span></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584280"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">asMetrics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584279"><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584279"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps -&gt; [Metric]
forall a. LogFormatting a =&gt; a -&gt; [Metric]
</span><span class="hs-identifier hs-var">asMetrics</span></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency ps
</span><a href="#local-6989586621679584279"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- TChainSync Tracer</span><span>
</span><span id="line-58"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span id="local-6989586621679584277"><span id="local-6989586621679584278"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTChainSync"><span class="hs-identifier hs-type">severityTChainSync</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584278"><span class="hs-identifier hs-type">peer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ChainSync</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Serialised</span></span><span> </span><span class="annot"><a href="#local-6989586621679584277"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Point</span></span><span> </span><span class="annot"><a href="#local-6989586621679584277"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tip</span></span><span> </span><span class="annot"><a href="#local-6989586621679584277"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SeverityS</span></span></span></span><span>
</span><span id="line-62"></span><span id="severityTChainSync"><span class="annot"><span class="annottext">severityTChainSync :: TraceLabelPeer
  peer
  (TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk)))
-&gt; SeverityS
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTChainSync"><span class="hs-identifier hs-var hs-var">severityTChainSync</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679584275"><span class="annot"><span class="annottext">TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk))
</span><a href="#local-6989586621679584275"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk))
-&gt; SeverityS
forall header point tip.
TraceSendRecv (ChainSync header point tip) -&gt; SeverityS
</span><a href="#local-6989586621679584274"><span class="hs-identifier hs-var">severityTChainSync'</span></a></span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk))
</span><a href="#local-6989586621679584275"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-64"></span><span>    </span><span id="local-6989586621679584274"><span class="annot"><span class="annottext">severityTChainSync' :: TraceSendRecv (ChainSync header point tip) -&gt; SeverityS
</span><a href="#local-6989586621679584274"><span class="hs-identifier hs-var hs-var">severityTChainSync'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584273"><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584273"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip) -&gt; SeverityS
forall header point tip.
AnyMessageAndAgency (ChainSync header point tip) -&gt; SeverityS
</span><a href="#local-6989586621679584272"><span class="hs-identifier hs-var">severityTChainSync''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584273"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><a href="#local-6989586621679584274"><span class="hs-identifier hs-var">severityTChainSync'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584271"><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584271"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip) -&gt; SeverityS
forall header point tip.
AnyMessageAndAgency (ChainSync header point tip) -&gt; SeverityS
</span><a href="#local-6989586621679584272"><span class="hs-identifier hs-var">severityTChainSync''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584271"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span>    </span><span id="local-6989586621679584272"><span class="annot"><span class="annottext">severityTChainSync'' :: AnyMessageAndAgency (ChainSync header point tip) -&gt; SeverityS
</span><a href="#local-6989586621679584272"><span class="hs-identifier hs-var hs-var">severityTChainSync''</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584269"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584269"><span class="hs-identifier hs-var">_agency</span></a></span></span><span> </span><span id="local-6989586621679584268"><span class="annot"><span class="annottext">Message (ChainSync header point tip) st st'
</span><a href="#local-6989586621679584268"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Message (ChainSync header point tip) st st' -&gt; SeverityS
forall header point tip (from :: ChainSync header point tip)
       (to :: ChainSync header point tip).
Message (ChainSync header point tip) from to -&gt; SeverityS
</span><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="annottext">Message (ChainSync header point tip) st st'
</span><a href="#local-6989586621679584268"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span>    </span><span id="local-6989586621679584565"><span id="local-6989586621679584566"><span id="local-6989586621679584567"><span id="local-6989586621679584568"><span id="local-6989586621679584569"><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-type">severityTChainSync'''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Message</span></span><span>
</span><span id="line-70"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ChainSync</span></span><span> </span><span class="annot"><a href="#local-6989586621679584569"><span class="hs-identifier hs-type">header</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584568"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584567"><span class="hs-identifier hs-type">tip</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584566"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584565"><span class="hs-identifier hs-type">to</span></a></span><span>
</span><span id="line-71"></span><span>                                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SeverityS</span></span></span></span></span></span></span><span>
</span><span id="line-72"></span><span>    </span><span id="local-6989586621679584267"><span class="annot"><span class="annottext">severityTChainSync''' :: Message (ChainSync header point tip) from to -&gt; SeverityS
</span><a href="#local-6989586621679584267"><span class="hs-identifier hs-var hs-var">severityTChainSync'''</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgRequestNext</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgAwaitReply</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgRollForward</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgRollBackward</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgFindIntersect</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgIntersectFound</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgIntersectNotFound</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><a href="#local-6989586621679584267"><span class="hs-identifier hs-var">severityTChainSync'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgDone</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span id="local-6989586621679584256"><span id="local-6989586621679584257"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTChainSync"><span class="hs-identifier hs-type">namesForTChainSync</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584257"><span class="hs-identifier hs-type">peer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ChainSync</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Serialised</span></span><span> </span><span class="annot"><a href="#local-6989586621679584256"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Point</span></span><span> </span><span class="annot"><a href="#local-6989586621679584256"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tip</span></span><span> </span><span class="annot"><a href="#local-6989586621679584256"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-83"></span><span id="namesForTChainSync"><span class="annot"><span class="annottext">namesForTChainSync :: TraceLabelPeer
  peer
  (TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk)))
-&gt; [Text]
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTChainSync"><span class="hs-identifier hs-var hs-var">namesForTChainSync</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679584255"><span class="annot"><span class="annottext">TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk))
</span><a href="#local-6989586621679584255"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NodeToClient&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk))
-&gt; [Text]
forall header point tip.
TraceSendRecv (ChainSync header point tip) -&gt; [Text]
</span><a href="#local-6989586621679584254"><span class="hs-identifier hs-var">namesTChainSync</span></a></span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (ChainSync (Serialised blk) (Point blk) (Tip blk))
</span><a href="#local-6989586621679584255"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621679584254"><span class="annot"><span class="annottext">namesTChainSync :: TraceSendRecv (ChainSync header point tip) -&gt; [Text]
</span><a href="#local-6989586621679584254"><span class="hs-identifier hs-var hs-var">namesTChainSync</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584253"><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584253"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Send&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip) -&gt; [Text]
forall header point tip.
AnyMessageAndAgency (ChainSync header point tip) -&gt; [Text]
</span><a href="#local-6989586621679584252"><span class="hs-identifier hs-var">namesTChainSync'</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584253"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><a href="#local-6989586621679584254"><span class="hs-identifier hs-var">namesTChainSync</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584251"><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584251"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Recieve&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip) -&gt; [Text]
forall header point tip.
AnyMessageAndAgency (ChainSync header point tip) -&gt; [Text]
</span><a href="#local-6989586621679584252"><span class="hs-identifier hs-var">namesTChainSync'</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync header point tip)
</span><a href="#local-6989586621679584251"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span>    </span><span id="local-6989586621679584252"><span class="annot"><span class="annottext">namesTChainSync' :: AnyMessageAndAgency (ChainSync header point tip) -&gt; [Text]
</span><a href="#local-6989586621679584252"><span class="hs-identifier hs-var hs-var">namesTChainSync'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584250"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584250"><span class="hs-identifier hs-var">_agency</span></a></span></span><span> </span><span id="local-6989586621679584249"><span class="annot"><span class="annottext">Message (ChainSync header point tip) st st'
</span><a href="#local-6989586621679584249"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Message (ChainSync header point tip) st st' -&gt; [Text]
forall header point tip (from :: ChainSync header point tip)
       (to :: ChainSync header point tip).
Message (ChainSync header point tip) from to -&gt; [Text]
</span><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="annottext">Message (ChainSync header point tip) st st'
</span><a href="#local-6989586621679584249"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span>    </span><span id="local-6989586621679584543"><span id="local-6989586621679584544"><span id="local-6989586621679584545"><span id="local-6989586621679584546"><span id="local-6989586621679584547"><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-type">namesTChainSync''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Message</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ChainSync</span></span><span> </span><span class="annot"><a href="#local-6989586621679584547"><span class="hs-identifier hs-type">header</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584546"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584545"><span class="hs-identifier hs-type">tip</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584544"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584543"><span class="hs-identifier hs-type">to</span></a></span><span>
</span><span id="line-92"></span><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span></span></span></span></span></span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621679584248"><span class="annot"><span class="annottext">namesTChainSync'' :: Message (ChainSync header point tip) from to -&gt; [Text]
</span><a href="#local-6989586621679584248"><span class="hs-identifier hs-var hs-var">namesTChainSync''</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgRequestNext</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;RequestNext&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgAwaitReply</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;AwaitReply&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgRollForward</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;RollForward&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgRollBackward</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;RollBackward&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgFindIntersect</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;FindIntersect&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgIntersectFound</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;IntersectFound&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgIntersectNotFound</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;IntersectNotFound&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><a href="#local-6989586621679584248"><span class="hs-identifier hs-var">namesTChainSync''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MsgDone</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Done&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span id="local-6989586621679584245"><span id="local-6989586621679584246"><span id="local-6989586621679584247"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679584240"><span id="local-6989586621679584242"><span class="annot"><span class="hs-identifier hs-type">LogFormatting</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ChainSync</span></span><span> </span><span class="annot"><a href="#local-6989586621679584247"><span class="hs-identifier hs-type">blk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584246"><span class="hs-identifier hs-type">pt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584245"><span class="hs-identifier hs-type">tip</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-104"></span><span>   </span><span id="local-6989586621679584239"><span class="annot"><span class="annottext">forMachine :: DetailLevel -&gt; AnyMessageAndAgency (ChainSync blk pt tip) -&gt; Object
</span><a href="#local-6989586621679584239"><span class="hs-identifier hs-var hs-var hs-var hs-var">forMachine</span></a></span></span><span> </span><span id="local-6989586621679584238"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584238"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584237"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584237"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgRequestNext</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-105"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgRequestNext&quot;</span></span><span>
</span><span id="line-106"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584237"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-108"></span><span>   </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584235"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584235"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584234"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584234"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgAwaitReply</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-109"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgAwaitReply&quot;</span></span><span>
</span><span id="line-110"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584234"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-112"></span><span>   </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584233"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584233"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584232"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584232"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgRollForward</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-113"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgRollForward&quot;</span></span><span>
</span><span id="line-114"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584232"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-116"></span><span>   </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584231"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584231"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584230"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584230"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgRollBackward</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-117"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgRollBackward&quot;</span></span><span>
</span><span id="line-118"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584230"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-120"></span><span>   </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584229"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584229"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584228"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584228"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgFindIntersect</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-121"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgFindIntersect&quot;</span></span><span>
</span><span id="line-122"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584228"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-124"></span><span>   </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584227"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584227"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584226"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584226"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgIntersectFound</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-125"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgIntersectFound&quot;</span></span><span>
</span><span id="line-126"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584226"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-128"></span><span>   </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584225"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584225"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584224"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584224"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgIntersectNotFound</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-129"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgIntersectNotFound&quot;</span></span><span>
</span><span id="line-130"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584224"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-132"></span><span>   </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584223"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584223"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584222"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584222"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ChainSync.MsgDone</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-133"></span><span>     </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgDone&quot;</span></span><span>
</span><span id="line-134"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584222"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>              </span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span id="local-6989586621679584219"><span id="local-6989586621679584220"><span id="local-6989586621679584221"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTChainSync"><span class="hs-identifier hs-type">docTChainSync</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Documented</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584221"><span class="hs-identifier hs-type">peer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ChainSync</span></span><span> </span><span class="annot"><a href="#local-6989586621679584220"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Point</span></span><span> </span><span class="annot"><a href="#local-6989586621679584219"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tip</span></span><span> </span><span class="annot"><a href="#local-6989586621679584219"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-140"></span><span id="docTChainSync"><span class="annot"><span class="annottext">docTChainSync :: Documented
  (TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTChainSync"><span class="hs-identifier hs-var hs-var">docTChainSync</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DocMsg
   (TraceLabelPeer
      peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))]
-&gt; Documented
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. [DocMsg a] -&gt; Documented a
</span><span class="hs-identifier hs-var">Documented</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-141"></span><span>      </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-143"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
-&gt; Message
     (ChainSync x (Point blk) (Tip blk)) 'StIdle ('StNext 'StCanAwait)
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Message
  (ChainSync x (Point blk) (Tip blk)) 'StIdle ('StNext 'StCanAwait)
forall k k1 k2 (header :: k) (point :: k1) (tip :: k2).
Message (ChainSync header point tip) 'StIdle ('StNext 'StCanAwait)
</span><span class="hs-identifier hs-var">MsgRequestNext</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Request the next update from the producer. The response can be a roll\
        \forward, a roll back or wait.&quot;</span></span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-148"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-149"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext 'StCanAwait)
-&gt; Message
     (ChainSync x (Point blk) (Tip blk))
     ('StNext 'StCanAwait)
     ('StNext 'StMustReply)
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext 'StCanAwait)
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Message
  (ChainSync x (Point blk) (Tip blk))
  ('StNext 'StCanAwait)
  ('StNext 'StMustReply)
forall k k1 k2 (header :: k) (point :: k1) (tip :: k2).
Message
  (ChainSync header point tip)
  ('StNext 'StCanAwait)
  ('StNext 'StMustReply)
</span><span class="hs-identifier hs-var">MsgAwaitReply</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Acknowledge the request but require the consumer to wait for the next\
        \update. This means that the consumer is synced with the producer, and\
        \the producer is waiting for its own chain state to change.&quot;</span></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-155"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-156"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext 'StCanAwait)
-&gt; Message
     (ChainSync x (Point blk) (Tip blk))
     ('StNext 'StCanAwait)
     ('StNext 'StMustReply)
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext 'StCanAwait)
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Message
  (ChainSync x (Point blk) (Tip blk))
  ('StNext 'StCanAwait)
  ('StNext 'StMustReply)
forall k k1 k2 (header :: k) (point :: k1) (tip :: k2).
Message
  (ChainSync header point tip)
  ('StNext 'StCanAwait)
  ('StNext 'StMustReply)
</span><span class="hs-identifier hs-var">MsgAwaitReply</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-158"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Tell the consumer to extend their chain with the given header.\
        \\n\
        \The message also tells the consumer about the head point of the producer.&quot;</span></span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-162"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-163"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext Any)
-&gt; Message
     (ChainSync x (Point blk) (Tip blk)) ('StNext Any) 'StIdle
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext Any)
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-164"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x
-&gt; Tip blk
-&gt; Message
     (ChainSync x (Point blk) (Tip blk)) ('StNext Any) 'StIdle
forall k1 header1 tip1 (point :: k1) (any :: StNextKind).
header1
-&gt; tip1
-&gt; Message (ChainSync header1 point tip1) ('StNext any) 'StIdle
</span><span class="hs-identifier hs-var">MsgRollForward</span></span><span> </span><span class="annot"><span class="annottext">x
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Tip blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-166"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Tell the consumer to extend their chain with the given header.\
        \\n\
        \The message also tells the consumer about the head point of the producer.&quot;</span></span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-170"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-171"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext Any)
-&gt; Message
     (ChainSync x (Point blk) (Tip blk)) ('StNext Any) 'StIdle
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any ('StNext Any)
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-172"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Point blk
-&gt; Tip blk
-&gt; Message
     (ChainSync x (Point blk) (Tip blk)) ('StNext Any) 'StIdle
forall k point1 tip1 (header :: k) (any :: StNextKind).
point1
-&gt; tip1
-&gt; Message (ChainSync header point1 tip1) ('StNext any) 'StIdle
</span><span class="hs-identifier hs-var">MsgRollBackward</span></span><span> </span><span class="annot"><span class="annottext">Point blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Tip blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-174"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Tell the consumer to roll back to a given point on their chain.\
        \\n\
        \The message also tells the consumer about the head point of the producer.&quot;</span></span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-178"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-179"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
-&gt; Message (ChainSync x (Point blk) (Tip blk)) 'StIdle 'StIntersect
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-180"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Point blk]
-&gt; Message (ChainSync x (Point blk) (Tip blk)) 'StIdle 'StIntersect
forall k k2 point1 (header :: k) (tip :: k2).
[point1]
-&gt; Message (ChainSync header point1 tip) 'StIdle 'StIntersect
</span><span class="hs-identifier hs-var">MsgFindIntersect</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Point blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-182"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Ask the producer to try to find an improved intersection point between\
        \the consumer and producer's chains. The consumer sends a sequence of\
        \points and it is up to the producer to find the first intersection point\
        \on its chain and send it back to the consumer.&quot;</span></span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-187"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-188"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIntersect
-&gt; Message (ChainSync x (Point blk) (Tip blk)) 'StIntersect 'StIdle
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIntersect
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-189"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Point blk
-&gt; Tip blk
-&gt; Message (ChainSync x (Point blk) (Tip blk)) 'StIntersect 'StIdle
forall k point1 tip1 (header :: k).
point1
-&gt; tip1
-&gt; Message (ChainSync header point1 tip1) 'StIntersect 'StIdle
</span><span class="hs-identifier hs-var">MsgIntersectFound</span></span><span> </span><span class="annot"><span class="annottext">Point blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Tip blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The reply to the consumer about an intersection found.\
        \The consumer can decide weather to send more points.\
        \\n\
        \The message also tells the consumer about the head point of the producer.&quot;</span></span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-196"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-197"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIntersect
-&gt; Message (ChainSync x (Point blk) (Tip blk)) 'StIntersect 'StIdle
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIntersect
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-198"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tip blk
-&gt; Message (ChainSync x (Point blk) (Tip blk)) 'StIntersect 'StIdle
forall k k1 tip1 (header :: k) (point :: k1).
tip1 -&gt; Message (ChainSync header point tip1) 'StIntersect 'StIdle
</span><span class="hs-identifier hs-var">MsgIntersectNotFound</span></span><span> </span><span class="annot"><span class="annottext">Tip blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-200"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The reply to the consumer that no intersection was found: none of the\
        \points the consumer supplied are on the producer chain.\
        \\n\
        \The message also tells the consumer about the head point of the producer.&quot;</span></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-205"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
-&gt; TraceLabelPeer
     peer (TraceSendRecv (ChainSync x (Point blk) (Tip blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-206"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
-&gt; TraceSendRecv (ChainSync x (Point blk) (Tip blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
-&gt; Message (ChainSync x (Point blk) (Tip blk)) 'StIdle 'StDone
-&gt; AnyMessageAndAgency (ChainSync x (Point blk) (Tip blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-207"></span><span>            </span><span class="annot"><span class="annottext">Message (ChainSync x (Point blk) (Tip blk)) 'StIdle 'StDone
forall k k1 k2 (header :: k) (point :: k1) (tip :: k2).
Message (ChainSync header point tip) 'StIdle 'StDone
</span><span class="hs-identifier hs-var">MsgDone</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;We have to explain to the framework what our states mean, in terms of\
        \which party has agency in each state.\
        \\n\
        \Idle states are where it is for the client to send a message,\
        \busy states are where the server is expected to send a reply.&quot;</span></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- LocalTxSubmission Tracer</span><span>
</span><span id="line-218"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span id="local-6989586621679584214"><span id="local-6989586621679584215"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTTxSubmission"><span class="hs-identifier hs-type">severityTTxSubmission</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584215"><span class="hs-identifier hs-type">peer</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LTS.LocalTxSubmission</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GenTx</span></span><span> </span><span class="annot"><a href="#local-6989586621679584214"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ApplyTxErr</span></span><span> </span><span class="annot"><a href="#local-6989586621679584214"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SeverityS</span></span></span></span><span>
</span><span id="line-223"></span><span id="severityTTxSubmission"><span class="annot"><span class="annottext">severityTTxSubmission :: TraceLabelPeer
  peer
  (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
-&gt; SeverityS
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTTxSubmission"><span class="hs-identifier hs-var hs-var">severityTTxSubmission</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679584213"><span class="annot"><span class="annottext">TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
</span><a href="#local-6989586621679584213"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; SeverityS
forall tx reject.
TraceSendRecv (LocalTxSubmission tx reject) -&gt; SeverityS
</span><a href="#local-6989586621679584212"><span class="hs-identifier hs-var">severityTTxSubmission'</span></a></span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
</span><a href="#local-6989586621679584213"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621679584212"><span class="annot"><span class="annottext">severityTTxSubmission' :: TraceSendRecv (LocalTxSubmission tx reject) -&gt; SeverityS
</span><a href="#local-6989586621679584212"><span class="hs-identifier hs-var hs-var">severityTTxSubmission'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584211"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584211"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; SeverityS
forall tx reject.
AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; SeverityS
</span><a href="#local-6989586621679584210"><span class="hs-identifier hs-var">severityTTxSubmission''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584211"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><a href="#local-6989586621679584212"><span class="hs-identifier hs-var">severityTTxSubmission'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584209"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584209"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; SeverityS
forall tx reject.
AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; SeverityS
</span><a href="#local-6989586621679584210"><span class="hs-identifier hs-var">severityTTxSubmission''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584209"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span>    </span><span id="local-6989586621679584210"><span class="annot"><span class="annottext">severityTTxSubmission'' :: AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; SeverityS
</span><a href="#local-6989586621679584210"><span class="hs-identifier hs-var hs-var">severityTTxSubmission''</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584208"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584208"><span class="hs-identifier hs-var">_agency</span></a></span></span><span> </span><span id="local-6989586621679584207"><span class="annot"><span class="annottext">Message (LocalTxSubmission tx reject) st st'
</span><a href="#local-6989586621679584207"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Message (LocalTxSubmission tx reject) st st' -&gt; SeverityS
forall tx reject (from :: LocalTxSubmission tx reject)
       (to :: LocalTxSubmission tx reject).
Message (LocalTxSubmission tx reject) from to -&gt; SeverityS
</span><a href="#local-6989586621679584206"><span class="hs-identifier hs-var">severityTTxSubmission'''</span></a></span><span> </span><span class="annot"><span class="annottext">Message (LocalTxSubmission tx reject) st st'
</span><a href="#local-6989586621679584207"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621679584451"><span id="local-6989586621679584452"><span id="local-6989586621679584453"><span id="local-6989586621679584454"><span class="annot"><a href="#local-6989586621679584206"><span class="hs-identifier hs-type">severityTTxSubmission'''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Message</span></span><span>
</span><span id="line-231"></span><span>                                        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LTS.LocalTxSubmission</span></span><span> </span><span class="annot"><a href="#local-6989586621679584454"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584453"><span class="hs-identifier hs-type">reject</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584452"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584451"><span class="hs-identifier hs-type">to</span></a></span><span>
</span><span id="line-232"></span><span>                                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SeverityS</span></span></span></span></span></span><span>
</span><span id="line-233"></span><span>    </span><span id="local-6989586621679584206"><span class="annot"><span class="annottext">severityTTxSubmission''' :: Message (LocalTxSubmission tx reject) from to -&gt; SeverityS
</span><a href="#local-6989586621679584206"><span class="hs-identifier hs-var hs-var">severityTTxSubmission'''</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgSubmitTx</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="#local-6989586621679584206"><span class="hs-identifier hs-var">severityTTxSubmission'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgAcceptTx</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><a href="#local-6989586621679584206"><span class="hs-identifier hs-var">severityTTxSubmission'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgRejectTx</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="#local-6989586621679584206"><span class="hs-identifier hs-var">severityTTxSubmission'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgDone</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span id="local-6989586621679584200"><span id="local-6989586621679584201"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTTxSubmission"><span class="hs-identifier hs-type">namesForTTxSubmission</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584201"><span class="hs-identifier hs-type">peer</span></a></span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LTS.LocalTxSubmission</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GenTx</span></span><span> </span><span class="annot"><a href="#local-6989586621679584200"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ApplyTxErr</span></span><span> </span><span class="annot"><a href="#local-6989586621679584200"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-242"></span><span id="namesForTTxSubmission"><span class="annot"><span class="annottext">namesForTTxSubmission :: TraceLabelPeer
  peer
  (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
-&gt; [Text]
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTTxSubmission"><span class="hs-identifier hs-var hs-var">namesForTTxSubmission</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679584199"><span class="annot"><span class="annottext">TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
</span><a href="#local-6989586621679584199"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; [Text]
forall tx reject.
TraceSendRecv (LocalTxSubmission tx reject) -&gt; [Text]
</span><a href="#local-6989586621679584198"><span class="hs-identifier hs-var">namesTTxSubmission</span></a></span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
</span><a href="#local-6989586621679584199"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621679584198"><span class="annot"><span class="annottext">namesTTxSubmission :: TraceSendRecv (LocalTxSubmission tx reject) -&gt; [Text]
</span><a href="#local-6989586621679584198"><span class="hs-identifier hs-var hs-var">namesTTxSubmission</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584197"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584197"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Send&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; [Text]
forall tx reject.
AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; [Text]
</span><a href="#local-6989586621679584196"><span class="hs-identifier hs-var">namesTTxSubmission'</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584197"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><a href="#local-6989586621679584198"><span class="hs-identifier hs-var">namesTTxSubmission</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584195"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584195"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Recieve&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; [Text]
forall tx reject.
AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; [Text]
</span><a href="#local-6989586621679584196"><span class="hs-identifier hs-var">namesTTxSubmission'</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalTxSubmission tx reject)
</span><a href="#local-6989586621679584195"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span>    </span><span id="local-6989586621679584196"><span class="annot"><span class="annottext">namesTTxSubmission' :: AnyMessageAndAgency (LocalTxSubmission tx reject) -&gt; [Text]
</span><a href="#local-6989586621679584196"><span class="hs-identifier hs-var hs-var">namesTTxSubmission'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584194"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584194"><span class="hs-identifier hs-var">_agency</span></a></span></span><span> </span><span id="local-6989586621679584193"><span class="annot"><span class="annottext">Message (LocalTxSubmission tx reject) st st'
</span><a href="#local-6989586621679584193"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Message (LocalTxSubmission tx reject) st st' -&gt; [Text]
forall tx reject (from :: LocalTxSubmission tx reject)
       (to :: LocalTxSubmission tx reject).
Message (LocalTxSubmission tx reject) from to -&gt; [Text]
</span><a href="#local-6989586621679584192"><span class="hs-identifier hs-var">namesTTxSubmission''</span></a></span><span> </span><span class="annot"><span class="annottext">Message (LocalTxSubmission tx reject) st st'
</span><a href="#local-6989586621679584193"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span>    </span><span id="local-6989586621679584434"><span id="local-6989586621679584435"><span id="local-6989586621679584436"><span id="local-6989586621679584437"><span class="annot"><a href="#local-6989586621679584192"><span class="hs-identifier hs-type">namesTTxSubmission''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Message</span></span><span>
</span><span id="line-250"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LTS.LocalTxSubmission</span></span><span> </span><span class="annot"><a href="#local-6989586621679584437"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584436"><span class="hs-identifier hs-type">reject</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584435"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584434"><span class="hs-identifier hs-type">to</span></a></span><span>
</span><span id="line-251"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-252"></span><span>    </span><span id="local-6989586621679584192"><span class="annot"><span class="annottext">namesTTxSubmission'' :: Message (LocalTxSubmission tx reject) from to -&gt; [Text]
</span><a href="#local-6989586621679584192"><span class="hs-identifier hs-var hs-var">namesTTxSubmission''</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgSubmitTx</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SubmitTx&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><a href="#local-6989586621679584192"><span class="hs-identifier hs-var">namesTTxSubmission''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgAcceptTx</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;AcceptTx&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="#local-6989586621679584192"><span class="hs-identifier hs-var">namesTTxSubmission''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgRejectTx</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;RejectTx&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="#local-6989586621679584192"><span class="hs-identifier hs-var">namesTTxSubmission''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgDone</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Done&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span id="local-6989586621679584190"><span id="local-6989586621679584191"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679584185"><span id="local-6989586621679584187"><span class="annot"><span class="hs-identifier hs-type">LogFormatting</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LTS.LocalTxSubmission</span></span><span> </span><span class="annot"><a href="#local-6989586621679584191"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584190"><span class="hs-identifier hs-type">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-259"></span><span>  </span><span id="local-6989586621679584184"><span class="annot"><span class="annottext">forMachine :: DetailLevel
-&gt; AnyMessageAndAgency (LocalTxSubmission tx err) -&gt; Object
</span><a href="#local-6989586621679584184"><span class="hs-identifier hs-var hs-var hs-var hs-var">forMachine</span></a></span></span><span> </span><span id="local-6989586621679584183"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584183"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584182"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584182"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgSubmitTx</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgSubmitTx&quot;</span></span><span>
</span><span id="line-261"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584182"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-263"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584181"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584181"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584180"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584180"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgAcceptTx</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-264"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgAcceptTx&quot;</span></span><span>
</span><span id="line-265"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584180"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-267"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584179"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584179"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584178"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584178"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgRejectTx</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-268"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgRejectTx&quot;</span></span><span>
</span><span id="line-269"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584178"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-271"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584177"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584177"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584176"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584176"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LTS.MsgDone</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgDone&quot;</span></span><span>
</span><span id="line-273"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584176"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>             </span><span class="hs-special">]</span></span></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span id="local-6989586621679584174"><span id="local-6989586621679584175"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTTxSubmission"><span class="hs-identifier hs-type">docTTxSubmission</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Documented</span></span><span>
</span><span id="line-277"></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span>
</span><span id="line-278"></span><span>      </span><span class="annot"><a href="#local-6989586621679584175"><span class="hs-identifier hs-type">localPeer</span></a></span><span>
</span><span id="line-279"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span>
</span><span id="line-280"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LTS.LocalTxSubmission</span></span><span>
</span><span id="line-281"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GenTx</span></span><span> </span><span class="annot"><a href="#local-6989586621679584174"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ApplyTxErr</span></span><span> </span><span class="annot"><a href="#local-6989586621679584174"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-282"></span><span id="docTTxSubmission"><span class="annot"><span class="annottext">docTTxSubmission :: Documented
  (TraceLabelPeer
     localPeer
     (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))))
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTTxSubmission"><span class="hs-identifier hs-var hs-var">docTTxSubmission</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DocMsg
   (TraceLabelPeer
      localPeer
      (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))))]
-&gt; Documented
     (TraceLabelPeer
        localPeer
        (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))))
forall a. [DocMsg a] -&gt; Documented a
</span><span class="hs-identifier hs-var">Documented</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-283"></span><span>      </span><span class="annot"><span class="annottext">TraceLabelPeer
  localPeer
  (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        localPeer
        (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">localPeer
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceLabelPeer
     localPeer
     (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">localPeer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-285"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency
  (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
-&gt; Message
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StIdle 'StBusy
-&gt; AnyMessageAndAgency
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenTx blk
-&gt; Message
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StIdle 'StBusy
forall k1 tx1 (reject :: k1).
tx1 -&gt; Message (LocalTxSubmission tx1 reject) 'StIdle 'StBusy
</span><span class="hs-identifier hs-var">LTS.MsgSubmitTx</span></span><span> </span><span class="annot"><span class="annottext">GenTx blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The client submits a single transaction and waits a reply.&quot;</span></span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  localPeer
  (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        localPeer
        (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-289"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">localPeer
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceLabelPeer
     localPeer
     (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">localPeer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-290"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency
  (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StBusy
-&gt; Message
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StBusy 'StIdle
-&gt; AnyMessageAndAgency
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StBusy
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Message
  (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StBusy 'StIdle
forall k k1 (tx :: k) (reject :: k1).
Message (LocalTxSubmission tx reject) 'StBusy 'StIdle
</span><span class="hs-identifier hs-var">LTS.MsgAcceptTx</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-292"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The server can reply to inform the client that it has accepted the\
        \transaction.&quot;</span></span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  localPeer
  (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        localPeer
        (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">localPeer
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceLabelPeer
     localPeer
     (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">localPeer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-296"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency
  (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StBusy
-&gt; Message
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StBusy 'StIdle
-&gt; AnyMessageAndAgency
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StBusy
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApplyTxErr blk
-&gt; Message
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StBusy 'StIdle
forall k reject1 (tx :: k).
reject1 -&gt; Message (LocalTxSubmission tx reject1) 'StBusy 'StIdle
</span><span class="hs-identifier hs-var">LTS.MsgRejectTx</span></span><span> </span><span class="annot"><span class="annottext">ApplyTxErr blk
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-298"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The server can reply to inform the client that it has rejected the\
        \transaction. A reason for the rejection is included.&quot;</span></span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  localPeer
  (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        localPeer
        (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">localPeer
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceLabelPeer
     localPeer
     (TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">localPeer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-302"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency
  (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
-&gt; TraceSendRecv (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
-&gt; Message
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StIdle 'StDone
-&gt; AnyMessageAndAgency
     (LocalTxSubmission (GenTx blk) (ApplyTxErr blk))
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Message
  (LocalTxSubmission (GenTx blk) (ApplyTxErr blk)) 'StIdle 'StDone
forall k k1 (tx :: k) (reject :: k1).
Message (LocalTxSubmission tx reject) 'StIdle 'StDone
</span><span class="hs-identifier hs-var">LTS.MsgDone</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-304"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The client can terminate the protocol.&quot;</span></span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- TStateQuery Tracer</span><span>
</span><span id="line-309"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span id="local-6989586621679584171"><span id="local-6989586621679584172"><span id="local-6989586621679584173"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTStateQuery"><span class="hs-identifier hs-type">severityTStateQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584173"><span class="hs-identifier hs-type">peer</span></a></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LSQ.LocalStateQuery</span></span><span> </span><span class="annot"><a href="#local-6989586621679584172"><span class="hs-identifier hs-type">blk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Point</span></span><span> </span><span class="annot"><a href="#local-6989586621679584172"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584171"><span class="hs-identifier hs-type">query</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SeverityS</span></span></span></span></span><span>
</span><span id="line-314"></span><span id="severityTStateQuery"><span class="annot"><span class="annottext">severityTStateQuery :: TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; SeverityS
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#severityTStateQuery"><span class="hs-identifier hs-var hs-var">severityTStateQuery</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679584170"><span class="annot"><span class="annottext">TraceSendRecv (LocalStateQuery blk (Point blk) query)
</span><a href="#local-6989586621679584170"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalStateQuery blk (Point blk) query) -&gt; SeverityS
forall block point (query1 :: * -&gt; *).
TraceSendRecv (LocalStateQuery block point query1) -&gt; SeverityS
</span><a href="#local-6989586621679584169"><span class="hs-identifier hs-var">severityTStateQuery'</span></a></span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalStateQuery blk (Point blk) query)
</span><a href="#local-6989586621679584170"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-316"></span><span>    </span><span id="local-6989586621679584169"><span class="annot"><span class="annottext">severityTStateQuery' :: TraceSendRecv (LocalStateQuery block point query1) -&gt; SeverityS
</span><a href="#local-6989586621679584169"><span class="hs-identifier hs-var hs-var">severityTStateQuery'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584168"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584168"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
-&gt; SeverityS
forall block point (query1 :: * -&gt; *).
AnyMessageAndAgency (LocalStateQuery block point query1)
-&gt; SeverityS
</span><a href="#local-6989586621679584167"><span class="hs-identifier hs-var">severityTStateQuery''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584168"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="annot"><a href="#local-6989586621679584169"><span class="hs-identifier hs-var">severityTStateQuery'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584166"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584166"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
-&gt; SeverityS
forall block point (query1 :: * -&gt; *).
AnyMessageAndAgency (LocalStateQuery block point query1)
-&gt; SeverityS
</span><a href="#local-6989586621679584167"><span class="hs-identifier hs-var">severityTStateQuery''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584166"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span>    </span><span id="local-6989586621679584167"><span class="annot"><span class="annottext">severityTStateQuery'' :: AnyMessageAndAgency (LocalStateQuery block point query1)
-&gt; SeverityS
</span><a href="#local-6989586621679584167"><span class="hs-identifier hs-var hs-var">severityTStateQuery''</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584165"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584165"><span class="hs-identifier hs-var">_agency</span></a></span></span><span> </span><span id="local-6989586621679584164"><span class="annot"><span class="annottext">Message (LocalStateQuery block point query1) st st'
</span><a href="#local-6989586621679584164"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Message (LocalStateQuery block point query1) st st' -&gt; SeverityS
forall block point (query1 :: * -&gt; *)
       (from :: LocalStateQuery block point query1)
       (to :: LocalStateQuery block point query1).
Message (LocalStateQuery block point query1) from to -&gt; SeverityS
</span><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="annottext">Message (LocalStateQuery block point query1) st st'
</span><a href="#local-6989586621679584164"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>    </span><span id="local-6989586621679584387"><span id="local-6989586621679584388"><span id="local-6989586621679584389"><span id="local-6989586621679584390"><span id="local-6989586621679584391"><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-type">severityTStateQuery'''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Message</span></span><span>
</span><span id="line-322"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LSQ.LocalStateQuery</span></span><span> </span><span class="annot"><a href="#local-6989586621679584391"><span class="hs-identifier hs-type">block</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584390"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584389"><span class="hs-identifier hs-type">query1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584388"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584387"><span class="hs-identifier hs-type">to</span></a></span><span>
</span><span id="line-323"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SeverityS</span></span></span></span></span></span></span><span>
</span><span id="line-324"></span><span>    </span><span id="local-6989586621679584163"><span class="annot"><span class="annottext">severityTStateQuery''' :: Message (LocalStateQuery block point query1) from to -&gt; SeverityS
</span><a href="#local-6989586621679584163"><span class="hs-identifier hs-var hs-var">severityTStateQuery'''</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgAcquire</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgAcquired</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgFailure</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Warning</span></span><span>
</span><span id="line-327"></span><span>    </span><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgQuery</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgResult</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-329"></span><span>    </span><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgRelease</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgReAcquire</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><a href="#local-6989586621679584163"><span class="hs-identifier hs-var">severityTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgDone</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SeverityS
</span><span class="hs-identifier hs-var">Info</span></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span id="local-6989586621679584151"><span id="local-6989586621679584152"><span id="local-6989586621679584153"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTStateQuery"><span class="hs-identifier hs-type">namesForTStateQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584153"><span class="hs-identifier hs-type">peer</span></a></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LSQ.LocalStateQuery</span></span><span> </span><span class="annot"><a href="#local-6989586621679584152"><span class="hs-identifier hs-type">blk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Point</span></span><span> </span><span class="annot"><a href="#local-6989586621679584152"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584151"><span class="hs-identifier hs-type">query</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-336"></span><span id="namesForTStateQuery"><span class="annot"><span class="annottext">namesForTStateQuery :: TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [Text]
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#namesForTStateQuery"><span class="hs-identifier hs-var hs-var">namesForTStateQuery</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679584150"><span class="annot"><span class="annottext">TraceSendRecv (LocalStateQuery blk (Point blk) query)
</span><a href="#local-6989586621679584150"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalStateQuery blk (Point blk) query) -&gt; [Text]
forall block point (query1 :: * -&gt; *).
TraceSendRecv (LocalStateQuery block point query1) -&gt; [Text]
</span><a href="#local-6989586621679584149"><span class="hs-identifier hs-var">namesForTStateQuery'</span></a></span><span> </span><span class="annot"><span class="annottext">TraceSendRecv (LocalStateQuery blk (Point blk) query)
</span><a href="#local-6989586621679584150"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>    </span><span id="local-6989586621679584149"><span class="annot"><span class="annottext">namesForTStateQuery' :: TraceSendRecv (LocalStateQuery block point query1) -&gt; [Text]
</span><a href="#local-6989586621679584149"><span class="hs-identifier hs-var hs-var">namesForTStateQuery'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendMsg</span></span><span> </span><span id="local-6989586621679584148"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584148"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1) -&gt; [Text]
forall block point (query1 :: * -&gt; *).
AnyMessageAndAgency (LocalStateQuery block point query1) -&gt; [Text]
</span><a href="#local-6989586621679584147"><span class="hs-identifier hs-var">namesForTStateQuery''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584148"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-339"></span><span>    </span><span class="annot"><a href="#local-6989586621679584149"><span class="hs-identifier hs-var">namesForTStateQuery'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceRecvMsg</span></span><span> </span><span id="local-6989586621679584146"><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584146"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1) -&gt; [Text]
forall block point (query1 :: * -&gt; *).
AnyMessageAndAgency (LocalStateQuery block point query1) -&gt; [Text]
</span><a href="#local-6989586621679584147"><span class="hs-identifier hs-var">namesForTStateQuery''</span></a></span><span> </span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery block point query1)
</span><a href="#local-6989586621679584146"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span>    </span><span id="local-6989586621679584147"><span class="annot"><span class="annottext">namesForTStateQuery'' :: AnyMessageAndAgency (LocalStateQuery block point query1) -&gt; [Text]
</span><a href="#local-6989586621679584147"><span class="hs-identifier hs-var hs-var">namesForTStateQuery''</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584145"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584145"><span class="hs-identifier hs-var">_agency</span></a></span></span><span> </span><span id="local-6989586621679584144"><span class="annot"><span class="annottext">Message (LocalStateQuery block point query1) st st'
</span><a href="#local-6989586621679584144"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Message (LocalStateQuery block point query1) st st' -&gt; [Text]
forall block point (query1 :: * -&gt; *)
       (from :: LocalStateQuery block point query1)
       (to :: LocalStateQuery block point query1).
Message (LocalStateQuery block point query1) from to -&gt; [Text]
</span><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="annottext">Message (LocalStateQuery block point query1) st st'
</span><a href="#local-6989586621679584144"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span>    </span><span id="local-6989586621679584365"><span id="local-6989586621679584366"><span id="local-6989586621679584367"><span id="local-6989586621679584368"><span id="local-6989586621679584369"><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-type">namesForTStateQuery'''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Message</span></span><span>
</span><span id="line-344"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LSQ.LocalStateQuery</span></span><span> </span><span class="annot"><a href="#local-6989586621679584369"><span class="hs-identifier hs-type">block</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584368"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584367"><span class="hs-identifier hs-type">query1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584366"><span class="hs-identifier hs-type">from</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584365"><span class="hs-identifier hs-type">to</span></a></span><span>
</span><span id="line-345"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span></span></span></span></span></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span>    </span><span id="local-6989586621679584143"><span class="annot"><span class="annottext">namesForTStateQuery''' :: Message (LocalStateQuery block point query1) from to -&gt; [Text]
</span><a href="#local-6989586621679584143"><span class="hs-identifier hs-var hs-var">namesForTStateQuery'''</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgAcquire</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Acquire&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-348"></span><span>    </span><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgAcquired</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Acquired&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgFailure</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Acquired&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-350"></span><span>    </span><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgQuery</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Query&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgResult</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Result&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgRelease</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Release&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-353"></span><span>    </span><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgReAcquire</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ReAcquire&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-354"></span><span>    </span><span class="annot"><a href="#local-6989586621679584143"><span class="hs-identifier hs-var">namesForTStateQuery'''</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgDone</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Done&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span id="local-6989586621679584141"><span id="local-6989586621679584142"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679584136"><span id="local-6989586621679584138"><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679584356"><span class="annot"><a href="#local-6989586621679584356"><span class="hs-identifier hs-type">result</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Query</span></span><span> </span><span class="annot"><a href="#local-6989586621679584142"><span class="hs-identifier hs-type">blk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584356"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LogFormatting</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LSQ.LocalStateQuery</span></span><span> </span><span class="annot"><a href="#local-6989586621679584142"><span class="hs-identifier hs-type">blk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679584141"><span class="hs-identifier hs-type">pt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Query</span></span><span> </span><span class="annot"><a href="#local-6989586621679584142"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-358"></span><span>  </span><span id="local-6989586621679584135"><span class="annot"><span class="annottext">forMachine :: DetailLevel
-&gt; AnyMessageAndAgency (LocalStateQuery blk pt (Query blk))
-&gt; Object
</span><a href="#local-6989586621679584135"><span class="hs-identifier hs-var hs-var hs-var hs-var">forMachine</span></a></span></span><span> </span><span id="local-6989586621679584134"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584134"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584133"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584133"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgAcquire</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgAcquire&quot;</span></span><span>
</span><span id="line-360"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584133"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-362"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584132"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584132"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584131"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584131"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgAcquired</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgAcquired&quot;</span></span><span>
</span><span id="line-364"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584131"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584130"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584130"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584129"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584129"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgFailure</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-367"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgFailure&quot;</span></span><span>
</span><span id="line-368"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584129"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584128"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584128"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584127"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584127"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgQuery</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-371"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgQuery&quot;</span></span><span>
</span><span id="line-372"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584127"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-374"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584126"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584126"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584125"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584125"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgResult</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-375"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgResult&quot;</span></span><span>
</span><span id="line-376"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584125"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-378"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584124"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584124"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584123"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584123"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgRelease</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgRelease&quot;</span></span><span>
</span><span id="line-380"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584123"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-382"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584122"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584122"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584121"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584121"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgReAcquire</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgReAcquire&quot;</span></span><span>
</span><span id="line-384"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584121"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-386"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">forMachine</span></span><span> </span><span id="local-6989586621679584120"><span class="annot"><span class="annottext">DetailLevel
</span><a href="#local-6989586621679584120"><span class="hs-identifier hs-var">_dtal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AnyMessageAndAgency</span></span><span> </span><span id="local-6989586621679584119"><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584119"><span class="hs-identifier hs-var">stok</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LSQ.MsgDone</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-387"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Object
forall a. [(Text, a)] -&gt; HashMap Text a
</span><span class="hs-identifier hs-var">mkObject</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MsgDone&quot;</span></span><span>
</span><span id="line-388"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;agency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value -&gt; (Text, Value)
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency pr st
</span><a href="#local-6989586621679584119"><span class="hs-identifier hs-var">stok</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>             </span><span class="hs-special">]</span></span></span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span id="local-6989586621679584116"><span id="local-6989586621679584117"><span id="local-6989586621679584118"><span class="annot"><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTStateQuery"><span class="hs-identifier hs-type">docTStateQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Documented</span></span><span>
</span><span id="line-392"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><a href="#local-6989586621679584118"><span class="hs-identifier hs-type">peer</span></a></span><span>
</span><span id="line-393"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TraceSendRecv</span></span><span>
</span><span id="line-394"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LSQ.LocalStateQuery</span></span><span> </span><span class="annot"><a href="#local-6989586621679584117"><span class="hs-identifier hs-type">blk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Point</span></span><span> </span><span class="annot"><a href="#local-6989586621679584117"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679584116"><span class="hs-identifier hs-type">query</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-395"></span><span id="docTStateQuery"><span class="annot"><span class="annottext">docTStateQuery :: Documented
  (TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
</span><a href="Cardano.Node.Tracing.Tracers.NodeToClient.html#docTStateQuery"><span class="hs-identifier hs-var hs-var">docTStateQuery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[DocMsg
   (TraceLabelPeer
      peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))]
-&gt; Documented
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. [DocMsg a] -&gt; Documented a
</span><span class="hs-identifier hs-var">Documented</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-396"></span><span>      </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-397"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-398"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StIdle 'StAcquiring
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Point blk)
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StIdle 'StAcquiring
forall k point1 (block :: k) (query :: * -&gt; *).
Maybe point1
-&gt; Message
     (LocalStateQuery block point1 query) 'StIdle 'StAcquiring
</span><span class="hs-identifier hs-var">LSQ.MsgAcquire</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Point blk)
forall a. Maybe a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-400"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The client requests that the state as of a particular recent point on\
        \the server's chain (within K of the tip) be made available to query,\
        \and waits for confirmation or failure.\
        \\n\
        \From 'NodeToClient_V8' onwards if the point is not specified, current tip\
        \will be acquired.  For previous versions of the protocol 'point' must be\
        \given.&quot;</span></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-408"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-409"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquiring
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StAcquiring 'StAcquired
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquiring
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Message
  (LocalStateQuery blk (Point blk) query) 'StAcquiring 'StAcquired
forall k k1 (block :: k) (point :: k1) (query :: * -&gt; *).
Message
  (LocalStateQuery block point query) 'StAcquiring 'StAcquired
</span><span class="hs-identifier hs-var">LSQ.MsgAcquired</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-411"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The server can confirm that it has the state at the requested point.&quot;</span></span><span>
</span><span id="line-412"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-413"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-414"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span>
</span><span id="line-415"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquiring
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StAcquiring 'StIdle
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquiring
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-416"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AcquireFailure
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StAcquiring 'StIdle
forall k k1 (block :: k) (point :: k1) (query :: * -&gt; *).
AcquireFailure
-&gt; Message (LocalStateQuery block point query) 'StAcquiring 'StIdle
</span><span class="hs-identifier hs-var">LSQ.MsgFailure</span></span><span> </span><span class="annot"><span class="annottext">AcquireFailure
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-418"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The server can report that it cannot obtain the state for the\
        \requested point.&quot;</span></span><span>
</span><span id="line-420"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-421"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-422"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span>
</span><span id="line-423"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquired
-&gt; Message
     (LocalStateQuery blk (Point blk) query)
     'StAcquired
     ('StQuerying Any)
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquired
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-424"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">query Any
-&gt; Message
     (LocalStateQuery blk (Point blk) query)
     'StAcquired
     ('StQuerying Any)
forall k k1 (query :: * -&gt; *) result (block :: k) (point :: k1).
query result
-&gt; Message
     (LocalStateQuery block point query)
     'StAcquired
     ('StQuerying result)
</span><span class="hs-identifier hs-var">LSQ.MsgQuery</span></span><span> </span><span class="annot"><span class="annottext">query Any
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-426"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The client can perform queries on the current acquired state.&quot;</span></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-428"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-429"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span>
</span><span id="line-430"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any ('StQuerying Any)
-&gt; Message
     (LocalStateQuery blk (Point blk) query)
     ('StQuerying Any)
     'StAcquired
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any ('StQuerying Any)
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-431"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">query Any
-&gt; Any
-&gt; Message
     (LocalStateQuery blk (Point blk) query)
     ('StQuerying Any)
     'StAcquired
forall k k1 (query :: * -&gt; *) result (block :: k) (point :: k1).
query result
-&gt; result
-&gt; Message
     (LocalStateQuery block point query)
     ('StQuerying result)
     'StAcquired
</span><span class="hs-identifier hs-var">LSQ.MsgResult</span></span><span> </span><span class="annot"><span class="annottext">query Any
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span> </span><span class="annot"><span class="annottext">Any
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-433"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The server must reply with the queries.&quot;</span></span><span>
</span><span id="line-434"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-435"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-436"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span>
</span><span id="line-437"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquired
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StAcquired 'StIdle
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquired
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-438"></span><span>              </span><span class="annot"><span class="annottext">Message (LocalStateQuery blk (Point blk) query) 'StAcquired 'StIdle
forall k k1 (block :: k) (point :: k1) (query :: * -&gt; *).
Message (LocalStateQuery block point query) 'StAcquired 'StIdle
</span><span class="hs-identifier hs-var">LSQ.MsgRelease</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-440"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The client can instruct the server to release the state. This lets\
        \the server free resources.&quot;</span></span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-443"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-444"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span>
</span><span id="line-445"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquired
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StAcquired 'StAcquiring
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StAcquired
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-446"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Point blk)
-&gt; Message
     (LocalStateQuery blk (Point blk) query) 'StAcquired 'StAcquiring
forall k point1 (block :: k) (query :: * -&gt; *).
Maybe point1
-&gt; Message
     (LocalStateQuery block point1 query) 'StAcquired 'StAcquiring
</span><span class="hs-identifier hs-var">LSQ.MsgReAcquire</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Point blk)
forall a. Maybe a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-448"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;This is like 'MsgAcquire' but for when the client already has a\
        \state. By moveing to another state directly without a 'MsgRelease' it\
        \enables optimisations on the server side (e.g. moving to the state for\
        \the immediate next block).\
        \\n\
        \Note that failure to re-acquire is equivalent to 'MsgRelease',\
        \rather than keeping the exiting acquired state.\
        \\n\
        \From 'NodeToClient_V8' onwards if the point is not specified, current tip\
        \will be acquired.  For previous versions of the protocol 'point' must be\
        \given.&quot;</span></span><span>
</span><span id="line-459"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TraceLabelPeer
  peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
-&gt; [(Text, Text)]
-&gt; Text
-&gt; DocMsg
     (TraceLabelPeer
        peer (TraceSendRecv (LocalStateQuery blk (Point blk) query)))
forall a. a -&gt; [(Text, Text)] -&gt; Text -&gt; DocMsg a
</span><span class="hs-identifier hs-var">DocMsg</span></span><span>
</span><span id="line-460"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">peer
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
-&gt; TraceLabelPeer
     peer (TraceSendRecv (LocalStateQuery blk (Point blk) query))
forall peerid a. peerid -&gt; a -&gt; TraceLabelPeer peerid a
</span><span class="hs-identifier hs-var">BlockFetch.TraceLabelPeer</span></span><span> </span><span class="annot"><span class="annottext">peer
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-461"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
-&gt; TraceSendRecv (LocalStateQuery blk (Point blk) query)
forall ps. AnyMessageAndAgency ps -&gt; TraceSendRecv ps
</span><span class="hs-identifier hs-var">TraceSendMsg</span></span><span>
</span><span id="line-462"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
-&gt; Message (LocalStateQuery blk (Point blk) query) 'StIdle 'StDone
-&gt; AnyMessageAndAgency (LocalStateQuery blk (Point blk) query)
forall (pr :: PeerRole) ps (st :: ps) (st' :: ps).
PeerHasAgency pr st -&gt; Message ps st st' -&gt; AnyMessageAndAgency ps
</span><span class="hs-identifier hs-var">AnyMessageAndAgency</span></span><span> </span><span class="annot"><span class="annottext">PeerHasAgency Any 'StIdle
forall a. a
</span><span class="hs-identifier hs-var">anyProto</span></span><span>
</span><span id="line-463"></span><span>              </span><span class="annot"><span class="annottext">Message (LocalStateQuery blk (Point blk) query) 'StIdle 'StDone
forall k k1 (block :: k) (point :: k1) (query :: * -&gt; *).
Message (LocalStateQuery block point query) 'StIdle 'StDone
</span><span class="hs-identifier hs-var">LSQ.MsgDone</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-465"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The client can terminate the protocol.&quot;</span></span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-467"></span></pre></body></html>